{"version":3,"file":"tiny-proxy.min.js","sources":["tiny-proxy.js"],"names":["global","each","obj","fn","nth","length","i","call","iterate","Object","keys","proxy","origin","read_only","p","v","k","getter","setter","RegExp","Array","arg","defineProperty","enumerable","get","set","undefined","bind","exports","module","define","this"],"mappings":";;;;CAUA,SAAaA,GACb,YAUA,SAASC,GAAOC,EAAKC,GAIpB,IAHA,GAAIC,GAAMF,EAAIG,OACVC,EAAM,KAEAA,EAAIF,GACRD,EAAGI,KAAML,EAAKA,EAAII,GAAIA,MAAQ,KAerC,QAASE,GAAUN,EAAKC,GAKvB,MAJAF,GAAMQ,OAAOC,KAAMR,GAAO,SAAWI,GACpC,MAAOH,GAAGI,KAAML,EAAKA,EAAII,GAAIA,KAGvBJ,EAWR,QAASS,GAAQC,EAAQC,GACxB,GAAIC,KAiCJ,OA/BAN,GAASI,EAAQ,SAAWG,EAAGC,GAC9B,GAAIC,GAAQC,CAEJH,aAAaI,SAAwB,kBAALJ,GAG5BA,YAAaI,SAAcJ,YAAaK,UAAWL,YAAaN,UAQ3EQ,EAAS,WACR,MAAOL,GAAOI,IAGfE,EAAS,SAAWG,GACnBT,EAAOI,GAAKK,GAGRR,KAAc,EAClBJ,OAAOa,eAAgBR,EAAGE,GAAIO,YAAY,EAAMC,IAAKP,IAGrDR,OAAOa,eAAgBR,EAAGE,GAAIO,YAAY,EAAMC,IAAKP,EAAQQ,IAAKP,MAnBrDQ,SAATZ,EAAEE,KACNF,EAAEE,OAGHF,EAAEE,GAAKL,EAAOC,EAAOI,KAPrBF,EAAEE,GAAKD,EAAEY,KAAMb,EAAEE,MA2BZF,EAIe,mBAAXc,SACXC,OAAOD,QAAUjB,EAES,kBAAVmB,QAChBA,OAAQ,WACP,MAAOnB,KAIRX,EAAOW,MAAQA,GAGdoB","sourcesContent":["/**\n * Tiny Object proxy for Client or Server\n *\n * @author Jason Mulligan <jason.mulligan@avoidwork.com>\n * @copyright 2014 Jason Mulligan\n * @license BSD-3 <https://raw.github.com/avoidwork/tiny-proxy/master/LICENSE>\n * @link http://avoidwork.github.io/tiny-proxy\n * @module tiny-proxy\n * @version 1.0.2\n */\n( function ( global ) {\n\"use strict\";\n\n/**\n * Quick iteration of an Array with the ability to halt\n *\n * @method each\n * @param  {Array}    obj Array to iterate\n * @param  {Function} fn  Function to execute per index\n * @return {Undefined}    undefined\n */\nfunction each ( obj, fn ) {\n\tvar nth = obj.length,\n\t    i   = -1;\n\n\twhile ( ++i < nth ) {\n\t\tif ( fn.call( obj, obj[i], i ) === false ) {\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\n/**\n * Quick iteration of an Object with the ability to halt\n *\n * @method iterate\n * @param  {Object}   obj Object to iterate\n * @param  {Function} fn  Function to execute per index\n * @return {Undefined}    undefined\n */\n\nfunction iterate ( obj, fn ) {\n\teach( Object.keys( obj ), function ( i ) {\n\t\treturn fn.call( obj, obj[i], i );\n\t} );\n\n\treturn obj;\n}\n\n/**\n * Creates a proxy of an Object\n *\n * @method proxy\n * @param  {Object}  origin    Object to proxy\n * @param  {Boolean} read_only [Optional] No setters if `true`, default is `false`\n * @return {Object}            Proxy\n */\nfunction proxy ( origin, read_only ) {\n\tvar p = {};\n\n\titerate( origin, function ( v, k ) {\n\t\tvar getter, setter;\n\n\t\tif ( !( v instanceof RegExp ) && typeof v == \"function\" ) {\n\t\t\tp[k] = v.bind( p[k] );\n\t\t}\n\t\telse if ( !(v instanceof RegExp ) && !(v instanceof Array ) && v instanceof Object ) {\n\t\t\tif ( p[k] === undefined ) {\n\t\t\t\tp[k] = {};\n\t\t\t}\n\n\t\t\tp[k] = proxy( origin[k] );\n\t\t}\n\t\telse {\n\t\t\tgetter = function () {\n\t\t\t\treturn origin[k];\n\t\t\t};\n\n\t\t\tsetter = function ( arg ) {\n\t\t\t\torigin[k] = arg;\n\t\t\t};\n\n\t\t\tif ( read_only === true ) {\n\t\t\t\tObject.defineProperty( p, k, {enumerable: true, get: getter} );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tObject.defineProperty( p, k, {enumerable: true, get: getter, set: setter} );\n\t\t\t}\n\t\t}\n\t} );\n\n\treturn p;\n}\n\n// Node, AMD & window supported\nif ( typeof exports != \"undefined\" ) {\n\tmodule.exports = proxy;\n}\nelse if ( typeof define == \"function\" ) {\n\tdefine( function () {\n\t\treturn proxy;\n\t} );\n}\nelse {\n\tglobal.proxy = proxy;\n}\n} )\n( this );\n"]}