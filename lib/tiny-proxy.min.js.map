{"version":3,"file":"tiny-proxy.min.js","sources":["tiny-proxy.js"],"names":["global","each","obj","fn","nth","length","i","call","iterate","Object","keys","property","prop","descriptor","undefined","value","get","defineProperty","proxy","origin","p","v","k","getter","setter","RegExp","Array","arg","enumerable","set","bind","exports","module","define","this"],"mappings":";;;;CAUA,SAAaA,GACb,YAUA,SAASC,GAAOC,EAAKC,GAIpB,IAHA,GAAIC,GAAMF,EAAIG,OACVC,EAAM,KAEAA,EAAIF,GACRD,EAAGI,KAAML,EAAKA,EAAII,GAAIA,MAAQ,KAerC,QAASE,GAAUN,EAAKC,GAKvB,MAJAF,GAAMQ,OAAOC,KAAMR,GAAO,SAAWI,GACpC,MAAOH,GAAGI,KAAML,EAAKA,EAAII,GAAIA,KAGvBJ,EAYR,QAASS,GAAWT,EAAKU,EAAMC,GACJC,SAArBD,EAAWE,OAA0CD,SAAnBD,EAAWG,WAC1CH,GAAWE,MAGnBN,OAAOQ,eAAgBf,EAAKU,EAAMC,GAUnC,QAASK,GAAQC,GAChB,GAAIC,KA4BJ,OA1BAZ,GAASW,EAAQ,SAAWE,EAAGC,GAC9B,GAAIC,GAAQC,CAEJH,aAAaI,SAAwB,kBAALJ,GAG5BA,YAAaI,SAAcJ,YAAaK,UAAWL,YAAaZ,UAQ3Ec,EAAS,WACR,MAAOJ,GAAOG,IAGfE,EAAS,SAAWG,GACnBR,EAAOG,GAAKK,GAGbhB,EAAUS,EAAGE,GAAIM,YAAY,EAAMZ,IAAKO,EAAQM,IAAKL,EAAQT,MAAOI,EAAOG,OAf7DR,SAATM,EAAEE,KACNF,EAAEE,OAGHF,EAAEE,GAAKJ,EAAOC,EAAOG,KAPrBF,EAAEE,GAAKD,EAAES,KAAMV,EAAEE,MAsBZF,EAIe,mBAAXW,SACXC,OAAOD,QAAUb,EAES,kBAAVe,QAChBA,OAAQ,WACP,MAAOf,KAIRlB,EAAOkB,MAAQA,GAGdgB","sourcesContent":["/**\n * Creates a proxy for an Object\n *\n * @author Jason Mulligan <jason.mulligan@avoidwork.com>\n * @copyright 2014 Jason Mulligan\n * @license BSD-3 <https://raw.github.com/avoidwork/tiny-proxy/master/LICENSE>\n * @link http://avoidwork.github.io/tiny-proxy\n * @module tiny-proxy\n * @version 1.0.0\n */\n( function ( global ) {\n\"use strict\";\n\n/**\n * Quick iteration of an Array with the ability to halt\n *\n * @method each\n * @param  {Array}    obj Array to iterate\n * @param  {Function} fn  Function to execute per index\n * @return {Undefined}    undefined\n */\nfunction each ( obj, fn ) {\n\tvar nth = obj.length,\n\t    i   = -1;\n\n\twhile ( ++i < nth ) {\n\t\tif ( fn.call( obj, obj[i], i ) === false ) {\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\n/**\n * Quick iteration of an Object with the ability to halt\n *\n * @method iterate\n * @param  {Object}   obj Object to iterate\n * @param  {Function} fn  Function to execute per index\n * @return {Undefined}    undefined\n */\n\nfunction iterate ( obj, fn ) {\n\teach( Object.keys( obj ), function ( i ) {\n\t\treturn fn.call( obj, obj[i], i );\n\t} );\n\n\treturn obj;\n}\n\n/**\n * Defines a property\n *\n * @method property\n * @param  {Object} obj        Object to decorate\n * @param  {String} prop       Property to define\n * @param  {Object} descriptor Property descriptor\n * @return {Undefined}         undefined\n */\nfunction property ( obj, prop, descriptor ) {\n\tif ( descriptor.value !== undefined && descriptor.get !== undefined ) {\n\t\tdelete descriptor.value;\n\t}\n\n\tObject.defineProperty( obj, prop, descriptor );\n}\n\n/**\n * Creates a proxy of an Object\n *\n * @method proxy\n * @param  {Object} origin Object to proxy\n * @return {Object}        Proxy\n */\nfunction proxy ( origin ) {\n\tvar p = {};\n\n\titerate( origin, function ( v, k ) {\n\t\tvar getter, setter;\n\n\t\tif ( !( v instanceof RegExp ) && typeof v == \"function\" ) {\n\t\t\tp[k] = v.bind( p[k] );\n\t\t}\n\t\telse if ( !(v instanceof RegExp ) && !(v instanceof Array ) && v instanceof Object ) {\n\t\t\tif ( p[k] === undefined ) {\n\t\t\t\tp[k] = {};\n\t\t\t}\n\n\t\t\tp[k] = proxy( origin[k] );\n\t\t}\n\t\telse {\n\t\t\tgetter = function () {\n\t\t\t\treturn origin[k];\n\t\t\t};\n\n\t\t\tsetter = function ( arg ) {\n\t\t\t\torigin[k] = arg;\n\t\t\t};\n\n\t\t\tproperty( p, k, {enumerable: true, get: getter, set: setter, value: origin[k]} );\n\t\t}\n\t} );\n\n\treturn p;\n}\n\n// Node, AMD & window supported\nif ( typeof exports != \"undefined\" ) {\n\tmodule.exports = proxy;\n}\nelse if ( typeof define == \"function\" ) {\n\tdefine( function () {\n\t\treturn proxy;\n\t} );\n}\nelse {\n\tglobal.proxy = proxy;\n}\n} )\n( this );\n"]}